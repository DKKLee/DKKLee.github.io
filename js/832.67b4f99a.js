"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[832],{832:function(t,e,a){a.r(e),a.d(e,{default:function(){return M}});var s=a(252),n=a(577);const i={class:"container"},l={class:"text-end mt-4"},o={class:"table table-hover mt-4"},c=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{width:"120"},"分類"),(0,s._)("th",null,"產品名稱"),(0,s._)("th",{width:"120"},"原價"),(0,s._)("th",{width:"120"},"售價"),(0,s._)("th",{width:"150"},"是否啟用"),(0,s._)("th",{width:"120"},"編輯")])],-1),p={width:"120",class:"btn-group"},r=["onClick"],u=["onClick"];function d(t,e,a,d,g,h){const _=(0,s.up)("PaginationComponent");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",l,[(0,s._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=e=>t.openModal("new"))},"建立新的產品")]),(0,s._)("table",o,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.products,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",null,(0,n.zw)(a.category),1),(0,s._)("td",null,(0,n.zw)(a.title),1),(0,s._)("td",null,(0,n.zw)(a.origin_price),1),(0,s._)("td",null,(0,n.zw)(a.price),1),(0,s._)("td",null,[(0,s._)("span",{onOnClick:e[1]||(e[1]=t=>h.updatastate()),class:(0,n.C_)({"text-success":a.is_enabled})},(0,n.zw)(a.is_enabled?"啟用":"未啟用"),35)]),(0,s._)("td",p,[(0,s._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:e=>t.openModal("edit",a)}," 編輯 ",8,r),(0,s._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:e=>t.openModal("delete",a)}," 刪除 ",8,u)])])))),128))])]),(0,s.Wm)(_,{pages:g.pagination,onEmitPages:h.getData},null,8,["pages","onEmitPages"])])}var g=a(963);const h={"aria-label":"Page navigation example"},_={class:"pagination"},m=(0,s._)("span",{"aria-hidden":"true"},"«",-1),b=[m],k={key:0,class:"page-link"},w=["onClick"],v=(0,s._)("span",{"aria-hidden":"true"},"»",-1),C=[v];function f(t,e,a,i,l,o){return(0,s.wg)(),(0,s.iD)("nav",h,[(0,s._)("ul",_,[(0,s._)("li",{class:(0,n.C_)(["page-item",{disabled:1===a.pages.current_page}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,g.iM)((t=>o.emitPages(a.pages.current_page-1)),["prevent"]))},b)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.pages.total_pages,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,n.C_)(["page-item",{active:t===a.pages.current_page}])},[t===a.pages.current_page?((0,s.wg)(),(0,s.iD)("span",k,(0,n.zw)(t),1)):((0,s.wg)(),(0,s.iD)("a",{key:1,class:"page-link",href:"#",onClick:(0,g.iM)((e=>o.emitPages(t)),["prevent"])},(0,n.zw)(t),9,w))],2)))),128)),(0,s._)("li",{class:(0,n.C_)(["page-item",{disabled:a.pages.current_page===a.pages.total_pages}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,g.iM)((t=>o.emitPages(a.pages.current_page+1)),["prevent"]))},C)],2)])])}var D={props:["pages"],methods:{emitPages(t){this.$emit("emit-pages",t)}}},P=a(744);const y=(0,P.Z)(D,[["render",f]]);var $=y,z={data(){return{products:[],selectItem:{},tempProduct:{imagesUrl:[]},pagination:{}}},components:{PaginationComponent:$},methods:{getData(t=1){const e=`https://vue3-course-api.hexschool.io/v2/api/vuetestproducts/admin/products?page=${t}`;this.$http.get(e).then((t=>{const{products:e,pagination:a}=t.data;this.products=e,this.pagination=a,console.log(a)})).catch((t=>{alert(t.data.message)}))},updatastate(){this.selectItem.is_enabled=!this.selectItem.is_enabled;const t=`https://vue3-course-api.hexschool.io/v2/api/vuetestproducts/admin/product/${this.selectItem.id}`;this.$http.put(t,{data:this.selectItem}).then((t=>{alert(t.data.message)})).catch((t=>{alert(t.data.message)}))}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.getData()}};const x=(0,P.Z)(z,[["render",d]]);var M=x}}]);
//# sourceMappingURL=832.67b4f99a.js.map