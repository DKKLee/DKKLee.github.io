{"version":3,"file":"js/832.67b4f99a.js","mappings":"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","sources":["webpack://vue-week6/./src/views/DashboardProducts.vue","webpack://vue-week6/./src/components/PaginationComponent.vue","webpack://vue-week6/./src/components/PaginationComponent.vue?4f9e","webpack://vue-week6/./src/views/DashboardProducts.vue?ef6e"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"text-end mt-4\">\n      <button class=\"btn btn-primary\" @click=\"openModal('new')\">建立新的產品</button>\n    </div>\n    <table class=\"table table-hover mt-4\">\n      <thead>\n        <tr>\n          <th width=\"120\">分類</th>\n          <th>產品名稱</th>\n          <th width=\"120\">原價</th>\n          <th width=\"120\">售價</th>\n          <th width=\"150\">是否啟用</th>\n          <th width=\"120\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in products\" :key=\"item.id\">\n          <td>{{ item.category }}</td>\n          <td>{{ item.title }}</td>\n          <td>{{ item.origin_price }}</td>\n          <td>{{ item.price }}</td>\n          <td>\n            <span @onClick=\"updatastate()\" :class=\"{ 'text-success': item.is_enabled }\">{{\n              item.is_enabled ? '啟用' : '未啟用'\n            }}</span>\n          </td>\n          <td width=\"120\" class=\"btn-group\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-primary btn-sm\"\n              @click=\"openModal('edit', item)\"\n            >\n              編輯\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"openModal('delete', item)\"\n            >\n              刪除\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <PaginationComponent :pages=\"pagination\" @emit-pages=\"getData\"></PaginationComponent>\n  </div>\n</template>\n\n<script>\nimport PaginationComponent from '../components/PaginationComponent.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      selectItem: {},\n      tempProduct: {\n        imagesUrl: [],\n      },\n      pagination: {},\n    };\n  },\n  components: {\n    PaginationComponent,\n  },\n  methods: {\n    getData(page = 1) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          const { products, pagination } = res.data;\n          this.products = products;\n          this.pagination = pagination;\n          console.log(pagination);\n        })\n        .catch((err) => {\n          alert(err.data.message);\n        });\n    },\n    updatastate() {\n      this.selectItem.is_enabled = !this.selectItem.is_enabled;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.selectItem.id}`;\n      this.$http\n        .put(api, { data: this.selectItem })\n        .then((res) => {\n          alert(res.data.message);\n        })\n        .catch((err) => {\n          alert(err.data.message);\n        });\n    },\n  },\n  mounted() {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    this.$http.defaults.headers.common.Authorization = token;\n    this.getData();\n  },\n};\n</script>\n","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" :class=\"{ disabled: pages.current_page === 1 }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"emitPages(pages.current_page - 1)\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        v-for=\"(item, index) in pages.total_pages\"\n        :key=\"index\"\n        class=\"page-item\"\n        :class=\"{ active: item === pages.current_page }\"\n      >\n        <span class=\"page-link\" v-if=\"item === pages.current_page\">{{ item }}</span>\n        <a class=\"page-link\" href=\"#\" v-else @click.prevent=\"emitPages(item)\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\" :class=\"{ disabled: pages.current_page === pages.total_pages }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"emitPages(pages.current_page + 1)\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    emitPages(item) {\n      this.$emit('emit-pages', item);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=8f366f20\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\hexSchool\\\\DKKLee.github.io\\\\vue-week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardProducts.vue?vue&type=template&id=1114d8e8\"\nimport script from \"./DashboardProducts.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\hexSchool\\\\DKKLee.github.io\\\\vue-week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createElementBlock","onClick","_ctx","_hoisted_4","_Fragment","_renderList","$data","item","key","id","_toDisplayString","category","title","origin_price","price","onOnClick","$options","is_enabled","type","_hoisted_6","_hoisted_7","_createVNode","_component_PaginationComponent","pages","onEmitPages","_hoisted_3","disabled","$props","current_page","href","total_pages","index","active","props","methods","emitPages","this","$emit","__exports__","data","products","selectItem","tempProduct","imagesUrl","pagination","components","PaginationComponent","getData","page","api","$http","get","then","res","console","log","catch","err","alert","message","updatastate","put","mounted","token","document","cookie","replace","defaults","headers","common","Authorization","render"],"sourceRoot":""}